{% extends "base.html" %} {% load static %}
{% load crispy_forms_tags %}
{% block extra_css %}
{% endblock %}
{% block extra_js %}
{% endblock %}
{% block main_content %}
<div class="container">
    <div class="row pt-4">
        <div class="col-12 text-center">
            <h5>Payment successful</h5>
            <small>Here are your order details:</small>
        </div>
    </div>
    <div class="row justify-content-center pt-4'">
        <div class="col-12 col-md-8 col-lg-5">
            <h5 class="text-center">Contact</h5>
            <ul>
                <li>
                    Name: {{ order.first_name }}
                    {{ order.last_name }}
                </li>
                <li>
                    {{ order.phone_number }}
                </li>
                <li>
                    Email: {{ order.email }}
                </li>
            </ul>
        </div>
        <div class="col">
            <h5 class="text-center">Address</h5>
            {{ order.address.street_address1 }},<br>
            {{ order.address.street_address2 }},<br>
            {{ order.address.town_or_city }},<br>
            {{ order.address.county }},<br>
            {{ order.address.postcode }},<br>
            {{ order.address.country }}
        </div>

    </div>
    <div class="row justify-content-center pt-4">
        <h5 class="text-center">Items</h5>
        <div class="col-3">
            <h6 class="text-center">Name</h6>
        </div>
        <div class="col-3">
            <h6 class="text-center">Price</h6>
        </div>
        <div class="col-2">
            <h6 class="text-center">Quantity</h6>
        </div>
        <div class="col-2">
            <h6 class="text-center">Subtotal</h6>
        </div>
        <div class="col-2">
            <h6 class="text-center">Delivery</h6>
        </div>
    </div>
    <hr>

    {% for item in order_line_items %}
<div class="row item-row">
    <div class="col-3 text-center">
        <small class="text-center">
            {{ item.product.product.name }}, {{ item.product.size }}{{ item.product.unit }}
        </small>
    </div>
    <div class="col-3 text-center">
        <small class="text-center">
            €{{ item.product.price }}
        </small>
    </div>
    <div class="col-2 text-center">
        <small class="text-center">
            {{ item.quantity }}
        </small>
    </div>
    <div class="col-2 text-center">
        <small class="text-center">
            €{{ item.lineitem_total }}
        </small>
    </div>
    <div class="col-2 text-center">
        <small class="text-center">
            {% if item.delivery %}
            Yes
            {% else %}
            No
            {% endif %}
        </small>
    </div>
</div>
<hr>
{% endfor %}
    <div class="row justify-content-end">
        <div class="col-4 text-center">
            <small>
                <strong>
                    Total: {{ order.order_total }}
                </strong>
            </small>
        </div>
    </div>

</div>
{% endblock %}